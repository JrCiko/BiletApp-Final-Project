--
-- PostgreSQL database dump
--

-- Dumped from database version 15.10
-- Dumped by pg_dump version 15.10

-- Started on 2025-07-13 16:09:56

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4 (class 2615 OID 2200)
-- Name: public; Type: SCHEMA; Schema: -; Owner: pg_database_owner
--

CREATE SCHEMA public;


ALTER SCHEMA public OWNER TO pg_database_owner;

--
-- TOC entry 3380 (class 0 OID 0)
-- Dependencies: 4
-- Name: SCHEMA public; Type: COMMENT; Schema: -; Owner: pg_database_owner
--

COMMENT ON SCHEMA public IS 'standard public schema';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 222 (class 1259 OID 32846)
-- Name: bilet_koltuk; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.bilet_koltuk (
    bilet_id bigint NOT NULL,
    koltuk_id bigint NOT NULL
);


ALTER TABLE public.bilet_koltuk OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 32809)
-- Name: biletler; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.biletler (
    id bigint NOT NULL,
    fiyat double precision NOT NULL,
    satin_alma_tarihi character varying(255) NOT NULL,
    etkinlik_id bigint NOT NULL,
    kullanici_id bigint NOT NULL,
    bilet_tipi character varying(255),
    CONSTRAINT biletler_bilet_tipi_check CHECK (((bilet_tipi)::text = ANY ((ARRAY['STANDART'::character varying, 'OGRENCI'::character varying, 'VIP'::character varying])::text[])))
);


ALTER TABLE public.biletler OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 32808)
-- Name: biletler_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.biletler ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.biletler_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 215 (class 1259 OID 32784)
-- Name: etkinlikler; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.etkinlikler (
    id bigint NOT NULL,
    ad character varying(100) NOT NULL,
    etkinlik_tarihi character varying(255) NOT NULL,
    etkinlik_konumu character varying(255),
    etkinlik_turu character varying(255) DEFAULT 'DIGER'::character varying NOT NULL,
    tur smallint,
    CONSTRAINT etkinlikler_tur_check CHECK (((tur >= 0) AND (tur <= 4)))
);


ALTER TABLE public.etkinlikler OWNER TO postgres;

--
-- TOC entry 214 (class 1259 OID 32783)
-- Name: etkinlikler_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.etkinlikler ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.etkinlikler_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 32816)
-- Name: koltuk; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.koltuk (
    id bigint NOT NULL,
    koltuk_no integer NOT NULL,
    rezerve boolean NOT NULL,
    sira_no integer NOT NULL,
    etkinlik_id bigint,
    bilet_id bigint
);


ALTER TABLE public.koltuk OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 32815)
-- Name: koltuk_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.koltuk ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.koltuk_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 32790)
-- Name: kullanicilar; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.kullanicilar (
    id bigint NOT NULL,
    email character varying(255),
    password character varying(255) NOT NULL,
    role character varying(255),
    username character varying(255) NOT NULL,
    CONSTRAINT kullanicilar_role_check CHECK (((role)::text = ANY ((ARRAY['ADMIN'::character varying, 'USER'::character varying])::text[])))
);


ALTER TABLE public.kullanicilar OWNER TO postgres;

--
-- TOC entry 216 (class 1259 OID 32789)
-- Name: kullanicilar_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.kullanicilar ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.kullanicilar_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 224 (class 1259 OID 32860)
-- Name: refund_request; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.refund_request (
    id bigint NOT NULL,
    reason character varying(255),
    request_date timestamp(6) without time zone,
    status character varying(255),
    bilet_id bigint,
    user_id bigint,
    CONSTRAINT refund_request_status_check CHECK (((status)::text = ANY ((ARRAY['PENDING'::character varying, 'APPROVED'::character varying, 'REJECTED'::character varying])::text[])))
);


ALTER TABLE public.refund_request OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 32859)
-- Name: refund_request_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.refund_request ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.refund_request_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 3372 (class 0 OID 32846)
-- Dependencies: 222
-- Data for Name: bilet_koltuk; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.bilet_koltuk (bilet_id, koltuk_id) FROM stdin;
1	5
1	4
\.


--
-- TOC entry 3369 (class 0 OID 32809)
-- Dependencies: 219
-- Data for Name: biletler; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.biletler (id, fiyat, satin_alma_tarihi, etkinlik_id, kullanici_id, bilet_tipi) FROM stdin;
1	100	2025-06-04 18:56:59	2	2	\N
2	100	2025-06-04 20:57:40	2	2	\N
13	100	2025-06-04 22:02:52	10	2	\N
16	100	2025-06-05 16:13:01	11	3	\N
18	100	2025-07-12 23:10:36	1	2	\N
19	100	2025-07-13 00:02:46	2	2	\N
20	200	2025-07-13 00:20:31	2	2	VIP
\.


--
-- TOC entry 3365 (class 0 OID 32784)
-- Dependencies: 215
-- Data for Name: etkinlikler; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.etkinlikler (id, ad, etkinlik_tarihi, etkinlik_konumu, etkinlik_turu, tur) FROM stdin;
1	Sertab Erener - Şebnem Ferah	2025-06-15	Ankara	MUZIK	\N
2	Tiyatro: Hamlet	2025-06-20	İstanbul	TIYATRO	\N
10	sadasadasad	27.08.2025	Ankara	SPOR	\N
11	denemeeeeee	27.08.2025	Ankara	SPOR	\N
12	asdasd	27.08.2025	Ankara	SPOR	\N
\.


--
-- TOC entry 3371 (class 0 OID 32816)
-- Dependencies: 221
-- Data for Name: koltuk; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.koltuk (id, koltuk_no, rezerve, sira_no, etkinlik_id, bilet_id) FROM stdin;
161	1	f	1	11	\N
162	2	f	1	11	\N
163	3	f	1	11	\N
164	4	f	1	11	\N
165	5	f	1	11	\N
166	6	f	1	11	\N
167	7	f	1	11	\N
168	8	f	1	11	\N
169	9	f	1	11	\N
170	10	f	1	11	\N
171	1	f	2	11	\N
172	2	f	2	11	\N
53	4	t	2	2	20
3	3	f	1	2	\N
15	5	t	2	2	20
174	4	f	2	11	\N
9	9	f	1	2	\N
11	1	f	2	2	\N
10	10	f	1	2	\N
12	2	f	2	2	\N
173	3	f	2	11	\N
24	4	f	3	2	\N
176	6	f	2	11	\N
27	7	f	3	2	\N
177	7	f	2	11	\N
178	8	f	2	11	\N
179	9	f	2	11	\N
20	10	f	2	2	\N
21	1	f	3	2	\N
22	2	f	3	2	\N
180	10	f	2	11	\N
224	4	f	2	12	\N
4	4	t	1	2	19
223	3	f	2	12	\N
6	6	t	1	2	19
28	8	f	3	2	\N
29	9	f	3	2	\N
30	10	f	3	2	\N
31	1	f	4	2	\N
32	2	f	4	2	\N
181	1	f	3	11	\N
182	2	f	3	11	\N
183	3	f	3	11	\N
184	4	f	3	11	\N
38	8	f	4	2	\N
39	9	f	4	2	\N
40	10	f	4	2	\N
186	6	f	3	11	\N
187	7	f	3	11	\N
188	8	f	3	11	\N
189	9	f	3	11	\N
45	5	f	5	2	\N
46	6	f	5	2	\N
47	7	f	5	2	\N
48	8	f	5	2	\N
49	9	f	5	2	\N
50	10	f	5	2	\N
190	10	f	3	11	\N
191	1	f	4	11	\N
192	2	f	4	11	\N
193	3	f	4	11	\N
194	4	f	4	11	\N
195	5	f	4	11	\N
196	6	f	4	11	\N
197	7	f	4	11	\N
198	8	f	4	11	\N
199	9	f	4	11	\N
200	10	f	4	11	\N
201	1	f	5	11	\N
202	2	f	5	11	\N
203	3	f	5	11	\N
204	4	f	5	11	\N
205	5	f	5	11	\N
206	6	f	5	11	\N
207	7	f	5	11	\N
208	8	f	5	11	\N
33	3	f	4	2	\N
51	1	f	1	2	\N
52	2	f	1	2	\N
54	7	f	2	2	\N
55	8	f	2	2	\N
13	3	f	2	2	\N
23	3	f	3	2	\N
209	9	f	5	11	\N
56	9	f	2	2	\N
57	5	f	3	2	\N
58	6	f	3	2	\N
210	10	f	5	11	\N
60	7	f	4	2	\N
175	5	f	2	11	\N
34	4	f	4	2	\N
35	5	f	4	2	\N
59	6	f	4	2	\N
16	6	f	2	2	\N
185	5	t	3	11	16
211	1	f	1	12	\N
212	2	f	1	12	\N
41	1	f	5	2	\N
42	2	f	5	2	\N
43	3	f	5	2	\N
44	4	f	5	2	\N
213	3	f	1	12	\N
214	4	f	1	12	\N
215	5	f	1	12	\N
216	6	f	1	12	\N
217	7	f	1	12	\N
218	8	f	1	12	\N
219	9	f	1	12	\N
220	10	f	1	12	\N
221	1	f	2	12	\N
222	2	f	2	12	\N
225	5	f	2	12	\N
226	6	f	2	12	\N
227	7	f	2	12	\N
228	8	f	2	12	\N
229	9	f	2	12	\N
230	10	f	2	12	\N
231	1	f	3	12	\N
232	2	f	3	12	\N
233	3	f	3	12	\N
234	4	f	3	12	\N
235	5	f	3	12	\N
236	6	f	3	12	\N
5	5	t	1	2	19
7	7	t	1	2	19
8	8	t	1	2	19
237	7	f	3	12	\N
238	8	f	3	12	\N
239	9	f	3	12	\N
240	10	f	3	12	\N
241	1	f	4	12	\N
242	2	f	4	12	\N
243	3	f	4	12	\N
244	4	f	4	12	\N
245	5	f	4	12	\N
246	6	f	4	12	\N
247	7	f	4	12	\N
248	8	f	4	12	\N
249	9	f	4	12	\N
250	10	f	4	12	\N
251	1	f	5	12	\N
252	2	f	5	12	\N
253	3	f	5	12	\N
254	4	f	5	12	\N
255	5	f	5	12	\N
256	6	f	5	12	\N
257	7	f	5	12	\N
258	8	f	5	12	\N
259	9	f	5	12	\N
260	10	f	5	12	\N
111	1	f	1	10	\N
112	2	f	1	10	\N
113	3	f	1	10	\N
114	4	f	1	10	\N
115	5	f	1	10	\N
116	6	f	1	10	\N
117	7	f	1	10	\N
118	8	f	1	10	\N
119	9	f	1	10	\N
120	10	f	1	10	\N
121	1	f	2	10	\N
122	2	f	2	10	\N
123	3	f	2	10	\N
124	4	f	2	10	\N
125	5	f	2	10	\N
126	6	f	2	10	\N
127	7	f	2	10	\N
128	8	f	2	10	\N
129	9	f	2	10	\N
130	10	f	2	10	\N
131	1	f	3	10	\N
132	2	f	3	10	\N
133	3	f	3	10	\N
136	6	f	3	10	\N
137	7	f	3	10	\N
138	8	f	3	10	\N
139	9	f	3	10	\N
140	10	f	3	10	\N
141	1	f	4	10	\N
142	2	f	4	10	\N
143	3	f	4	10	\N
144	4	f	4	10	\N
145	5	f	4	10	\N
146	6	f	4	10	\N
147	7	f	4	10	\N
148	8	f	4	10	\N
149	9	f	4	10	\N
150	10	f	4	10	\N
151	1	f	5	10	\N
152	2	f	5	10	\N
153	3	f	5	10	\N
154	4	f	5	10	\N
155	5	f	5	10	\N
156	6	f	5	10	\N
157	7	f	5	10	\N
158	8	f	5	10	\N
159	9	f	5	10	\N
160	10	f	5	10	\N
134	4	t	3	10	13
135	5	t	3	10	13
\.


--
-- TOC entry 3367 (class 0 OID 32790)
-- Dependencies: 217
-- Data for Name: kullanicilar; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.kullanicilar (id, email, password, role, username) FROM stdin;
3	asdasdanan@gmail.com	$2a$10$KkYLTslo3WUIvQa6aeI6yuhuxv9Zb4wayZJDft5qG/bP34qYgV41S	USER	JuniorP
2	admin@admin.com	$2a$10$OqCKQa7JyrdmSUj..pZgg.HuXQWLyCQELEUCWbQcUpYGByE1C1Pki	ADMIN	JuniorCiko
1	admin@biletapp.com	$2a$10$N0VFFO91S8iu6ajTOp0IqeyoubbBdf/6X8PCmv8m9KYrODgPROZtS	ADMIN	admin
5	user@biletapp.com	$2a$10$igR3YUH6r5vdseOJN8Xn8efTnVIDsJJagHVh4XDoiPyGeUjSRgX/G	USER	user
\.


--
-- TOC entry 3374 (class 0 OID 32860)
-- Dependencies: 224
-- Data for Name: refund_request; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.refund_request (id, reason, request_date, status, bilet_id, user_id) FROM stdin;
\.


--
-- TOC entry 3381 (class 0 OID 0)
-- Dependencies: 218
-- Name: biletler_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.biletler_id_seq', 20, true);


--
-- TOC entry 3382 (class 0 OID 0)
-- Dependencies: 214
-- Name: etkinlikler_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.etkinlikler_id_seq', 12, true);


--
-- TOC entry 3383 (class 0 OID 0)
-- Dependencies: 220
-- Name: koltuk_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.koltuk_id_seq', 260, true);


--
-- TOC entry 3384 (class 0 OID 0)
-- Dependencies: 216
-- Name: kullanicilar_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.kullanicilar_id_seq', 5, true);


--
-- TOC entry 3385 (class 0 OID 0)
-- Dependencies: 223
-- Name: refund_request_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.refund_request_id_seq', 1, false);


--
-- TOC entry 3209 (class 2606 OID 32813)
-- Name: biletler biletler_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.biletler
    ADD CONSTRAINT biletler_pkey PRIMARY KEY (id);


--
-- TOC entry 3203 (class 2606 OID 32788)
-- Name: etkinlikler etkinlikler_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.etkinlikler
    ADD CONSTRAINT etkinlikler_pkey PRIMARY KEY (id);


--
-- TOC entry 3211 (class 2606 OID 32820)
-- Name: koltuk koltuk_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.koltuk
    ADD CONSTRAINT koltuk_pkey PRIMARY KEY (id);


--
-- TOC entry 3205 (class 2606 OID 32797)
-- Name: kullanicilar kullanicilar_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.kullanicilar
    ADD CONSTRAINT kullanicilar_pkey PRIMARY KEY (id);


--
-- TOC entry 3213 (class 2606 OID 32867)
-- Name: refund_request refund_request_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.refund_request
    ADD CONSTRAINT refund_request_pkey PRIMARY KEY (id);


--
-- TOC entry 3207 (class 2606 OID 32799)
-- Name: kullanicilar uketonw5u9o9d703su7k8jxljdr; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.kullanicilar
    ADD CONSTRAINT uketonw5u9o9d703su7k8jxljdr UNIQUE (username);


--
-- TOC entry 3218 (class 2606 OID 32854)
-- Name: bilet_koltuk fk2fr3c9310xu05cd3fs81sqmk5; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.bilet_koltuk
    ADD CONSTRAINT fk2fr3c9310xu05cd3fs81sqmk5 FOREIGN KEY (bilet_id) REFERENCES public.biletler(id);


--
-- TOC entry 3220 (class 2606 OID 32868)
-- Name: refund_request fk2rsaknw6fnee9clf4735kt1uv; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.refund_request
    ADD CONSTRAINT fk2rsaknw6fnee9clf4735kt1uv FOREIGN KEY (bilet_id) REFERENCES public.biletler(id);


--
-- TOC entry 3219 (class 2606 OID 32849)
-- Name: bilet_koltuk fk3rff5a7sqmbilh6iijaknopg2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.bilet_koltuk
    ADD CONSTRAINT fk3rff5a7sqmbilh6iijaknopg2 FOREIGN KEY (koltuk_id) REFERENCES public.koltuk(id);


--
-- TOC entry 3216 (class 2606 OID 32841)
-- Name: koltuk fk6m8420fpwu1wskvbx17jgo0qt; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.koltuk
    ADD CONSTRAINT fk6m8420fpwu1wskvbx17jgo0qt FOREIGN KEY (bilet_id) REFERENCES public.biletler(id);


--
-- TOC entry 3214 (class 2606 OID 32821)
-- Name: biletler fk6r90pq53emh7lu28hn1koipqe; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.biletler
    ADD CONSTRAINT fk6r90pq53emh7lu28hn1koipqe FOREIGN KEY (etkinlik_id) REFERENCES public.etkinlikler(id);


--
-- TOC entry 3217 (class 2606 OID 32836)
-- Name: koltuk fkak3nrjcyqwly6g2h0il4si5mu; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.koltuk
    ADD CONSTRAINT fkak3nrjcyqwly6g2h0il4si5mu FOREIGN KEY (etkinlik_id) REFERENCES public.etkinlikler(id);


--
-- TOC entry 3221 (class 2606 OID 32873)
-- Name: refund_request fkm75fx0kmrjhyxu7qeykxbc1g6; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.refund_request
    ADD CONSTRAINT fkm75fx0kmrjhyxu7qeykxbc1g6 FOREIGN KEY (user_id) REFERENCES public.kullanicilar(id);


--
-- TOC entry 3215 (class 2606 OID 32831)
-- Name: biletler fkmjiasm1jvenu2pvawr6jqp9wb; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.biletler
    ADD CONSTRAINT fkmjiasm1jvenu2pvawr6jqp9wb FOREIGN KEY (kullanici_id) REFERENCES public.kullanicilar(id);


-- Completed on 2025-07-13 16:09:56

--
-- PostgreSQL database dump complete
--

